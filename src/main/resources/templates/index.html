<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head>
  <meta charset="utf-8"/>
  <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>AT&#38;T</title>
  <!-- Bootstrap -->
  <link href="css/bootstrap.min.css" rel="stylesheet"/>

  <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
  <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
  <!--[if lt IE 9]>
      <script src="js/html5shiv.min.js"></script>
      <script src="js/respond.min.js"></script>
    <![endif]-->
  <link href="css/styles.css" rel="stylesheet"/>
</head>

<body>
<form action="#" th:action="@{/saveform}" method="post">
  <div class="">
  </div>
  <div class="wrapper p15">
    <ul class="nav nav-tabs" id="myTabs" role="tablist">
      <li role="presentation" class="active"><a href="#home" class="tab-anchor" role="tab" data-toggle="tab" aria-controls="home" aria-expanded="true">Home</a></li>
      <li role="presentation" class=""><a href="#compliance" class="tab-anchor" role="tab" data-toggle="tab" aria-controls="compliance" aria-expanded="false">Compliance Forms</a></li>
      <li role="presentation" class=""><a href="#report" class="tab-anchor" role="tab" data-toggle="tab" aria-controls="report" aria-expanded="false">Compliance Report</a></li>
    </ul>
    <div class="tab-content p15" id="myTabContent">
      <div class="tab-pane fade active in" role="tabpanel" id="home" aria-labelledby="home-tab">
        <div class="alert alert-warning">
          <i class="glyphicon glyphicon-exclamation-sign"></i> You are not compliant. <a href="#compliance" role="tab" data-toggle="tab" aria-controls="compliance" aria-expanded="false">Click here to view the compliance forms.</a>
        </div>
        <div class="card hoverable panel-aboutme">
          <div class="card-content">
            <h4>About Me</h4>
            <ul class="list-unstyled">
              <li><span class="left">Employee Name</span><span>: Sandeep Thomas</span></li>
              <li><span class="left">Employee Id</span><span>: 468489</span></li>
              <li><span class="left">Form A Compliance</span><span>: <i class="glyphicon glyphicon-ok text-success"></i></span></li>
              <li><span class="left">Form B Compliance</span><span>: <i class="glyphicon glyphicon-remove  text-danger"></i></span>
              </li>
              <li><span class="left">Manager</span><span>: Dixon Davis</span></li>
              <li><span class="left">Project</span><span>: AT&#38;T-Mx Retail Delivery</span></li>
            </ul>
          </div>
        </div>
      </div>
      <div class="tab-pane fade" role="tabpanel" id="compliance" aria-labelledby="compliance-tab">
        <div class="panel panel-default panel-form">
          <div class="panel-heading">
            <h3 class="panel-title">Non Disclosure Agreement</h3>
          </div>
          <div class="panel-body">
            <p>This Nondisclosure Agreement (the "Agreement") is entered into by and between <span class="resizing-input"><input type="text"/><span  style="display:none"></span></span> with its principal offices at <span contenteditable="true"></span> ("Disclosing Party") and <span contenteditable="true"></span> located at <span contenteditable="true"></span> ("Receiving Party") for the purpose of preventing the unauthorized disclosure of Confidential Information as defined below. The parties agree to enter into a confidential relationship with respect to the disclosure of certain proprietary and confidential information ("Confidential Information").</p>
            <p><strong>1. Definition of Confidential Information.</strong> For purposes of this Agreement, "Confidential Information" shall include all information or material that has or could have commercial value or other utility in the business in which Disclosing Party is engaged. If Confidential Information is in written form, the Disclosing Party shall label or stamp the materials with the word "Confidential" or some similar warning. If Confidential Information is transmitted orally, the Disclosing Party shall promptly provide a writing indicating that such oral communication constituted Confidential Information.</p>
            <p><strong>2. Exclusions from Confidential Information.</strong> Receiving Party's obligations under this Agreement do not extend to information that is: (a) publicly known at the time of disclosure or subsequently becomes publicly known through no fault of the Receiving Party; (b) discovered or created by the Receiving Party before disclosure by Disclosing Party; (c) learned by the Receiving Party through legitimate means other than from the Disclosing Party or Disclosing Party's representatives; or (d) is disclosed by Receiving Party with Disclosing Party's prior written approval.</p>
            <p><strong>3. Obligations of Receiving Party.</strong> Receiving Party shall hold and maintain the Confidential Information in strictest confidence for the sole and exclusive benefit of the Disclosing Party. Receiving Party shall carefully restrict access to Confidential Information to employees, contractors, and third parties as is reasonably required and shall require those persons to sign nondisclosure restrictions at least as protective as those in this Agreement. Receiving Party shall not, without prior written approval of Disclosing Party, use for Receiving Party's own benefit, publish, copy, or otherwise disclose to others, or permit the use by others for their benefit or to the detriment of Disclosing Party, any Confidential Information. Receiving Party shall return to Disclosing Party any and all records, notes, and other written, printed, or tangible materials in its possession pertaining to Confidential Information immediately if Disclosing Party requests it in writing.</p>
            <p><strong>4. Time Periods.</strong> The nondisclosure provisions of this Agreement shall survive the termination of this Agreement and Receiving Party's duty to hold Confidential Information in confidence shall remain in effect until the Confidential Information no longer qualifies as a trade secret or until Disclosing Party sends Receiving Party written notice releasing Receiving Party from this Agreement, whichever occurs first.</p>
            <p><strong>5. Relationships.</strong> Nothing contained in this Agreement shall be deemed to constitute either party a partner, joint venturer or employee of the other party for any purpose.</p>
            <p><strong>6. Severability.</strong> If a court finds any provision of this Agreement invalid or unenforceable, the remainder of this Agreement shall be interpreted so as best to effect the intent of the parties.</p>
            <p><strong>7. Integration.</strong> This Agreement expresses the complete understanding of the parties with respect to the subject matter and supersedes all prior proposals, agreements, representations, and understandings. This Agreement may not be amended except in a writing signed by both parties.</p>
            <p><strong>8. Waiver.</strong> The failure to exercise any right provided in this Agreement shall not be a waiver of prior or subsequent rights.</p>
            <p>This Agreement and each party's obligations shall be binding on the representatives, assigns, and successors of such party. Each party has signed this Agreement through its authorized representative.</p>
            <div class="row">
              <div class="col-xs-6 col-md-4">
                <p>Disclosing Party</p>
                <p>By: <span contenteditable="true"></span></p>
                <p>Printed Name: <span contenteditable="true"></span></p>
                <p>Title: <span contenteditable="true"></span></p>
                <p>Dated: <span contenteditable="true"></span></p>
              </div>
              <div class="col-xs-6 col-md-4">
                <p>Receiving Party</p>
                <p>By: <span contenteditable="true"></span></p>
                <p>Printed Name: <span contenteditable="true"></span></p>
                <p>Title: <span contenteditable="true"></span></p>
                <p>Dated: <span contenteditable="true"></span></p>
              </div>
            </div>
            <div id="editor"></div>
            <div class="text-right">
              <input type="submit" class="btn btn-primary" id="signform" value="Sign Form"/>
            </div>
          </div>
        </div>
      </div>
      <div class="tab-pane fade" role="tabpanel" id="report" aria-labelledby="compliance-tab">
        <div class="chart-wrap">
          <canvas id="chart-area"></canvas>
        </div>
      </div>
    </div>
  </div>

  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="js/jquery-3.2.1.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="js/bootstrap.min.js"></script>
  <script src="js/Chart.bundle.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/0.9.0rc1/jspdf.min.js"></script>
	
  <script>
  /*<![CDATA[*/
    var config = {
      type: 'pie',
      data: {
        datasets: [{
          data: [50, 75],
          backgroundColor: [
            'rgb(255, 99, 132)',
            'rgb(75, 192, 192)',
          ],
          label: 'Dataset 1'
        }],
        labels: ["Non-compliant", "Compliant", ]
      },
      options: {
        responsive: true,
        legend: {
          position: 'top',
        },
        title: {
          display: true,
          text: 'Compliance Report'
        },
        animation: {
          animateScale: true,
          animateRotate: true
        }
      }
    };
    $(document).ready(function () {
      $('a[data-toggle="tab"]').on('shown.bs.tab', function (e) {
        var target = this.href.split('#');
        $('.nav a').filter('[href="#' + target[1] + '"]').tab('show');
      });
      var ctx = document.getElementById("chart-area").getContext("2d");
      window.myDoughnut = new Chart(ctx, config);

      // dynamic input width
      var $inputs = $('.resizing-input');

      // Resize based on text if text.length > 0
      // Otherwise resize based on the placeholder
      function resizeForText(text) {
        var $this = $(this);
        if (!text.trim() && $this.attr('placeholder')) {
          text = $this.attr('placeholder').trim();
        }
        var $span = $this.parent().find('span');
        $span.text(text);
        var $inputSize = $span.width();
        if ($this.width() != $inputSize) {
          $this.css("width", $inputSize);
        }
      }

      $inputs.find('input').keypress(function (e) {
    	  if (e.which && e.charCode) {
          var c = String.fromCharCode(e.keyCode | e.charCode);
          var $this = $(this);
          resizeForText.call($this, $this.val() + c);
        }
      });

      $inputs.find('input').change(function () {
        var $this = $(this);
        resizeForText.call($this, $this.val());
      });

      // Backspace event only fires for keyup
      $inputs.find('input').keyup(function (e) {
        if (e.keyCode === 8 || e.keyCode === 46) {
          resizeForText.call($(this), $(this).val());
        }
      });

      $inputs.find('input').each(function () {
        var $this = $(this);
        resizeForText.call($this, $this.val())
      });

      $('[contenteditable]').on('paste', function (e) {
        var pasteData = e.originalEvent.clipboardData.getData('text')
        e.target.innerText = pasteData;
        widthfix.call(this);
        return false;
      });
      $('[contenteditable]').on('input', function () {
        widthfix.call(this);
      });

      function widthfix() {
    	  if ($(this).width() < 161) {
          $(this).css('display', 'inline-block');
        } else {
          $(this).css('display', 'inline');
        }
      }
    });
    
    var doc = new jsPDF();
    var specialElementHandlers = {
        '#editor': function (element, renderer) {
            return true;
        }
    };

    $('#signform').click(function () {   
        doc.fromHTML($('#compliance').html(), 15, 15, {
            'width': 170,
                'elementHandlers': specialElementHandlers
        });
        doc.save('complianceform.pdf');
    });
    /*]]>*/
  </script>
  </form>
</body>

</html>
